<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Timer
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Timer</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-grid class="ion-padding timer-content">
    <ion-row class="ion-justify-content-center">
      <svg id="progress-circle" width="100%" height="100%" viewBox="0 0 200 200">
        <circle
          cx="50%"
          cy="50%"
          [attr.r]="circleRadius"
          fill="none"
          [attr.stroke]="backgroundColor"
          stroke-width="12"
        ></circle>
        <circle
          cx="50%"
          cy="50%"
          [attr.r]="circleRadius"
          fill="none"
          [attr.stroke]="circleColor"
          stroke-width="12"
          [attr.stroke-dasharray]="circleDasharray"
          [attr.stroke-dashoffset]="percentageOffset(percent | async)"
        ></circle>
        <text x="50%" y="56%" class="timer-time">{{ formatTime(timer) }}</text>
      </svg>
    </ion-row>
    <ion-button expand="full" (click)="startTimer()" *ngIf="!started">Start</ion-button>
    <ion-button expand="full" (click)="stopTimer()" *ngIf="started">Stop</ion-button>
  </ion-grid>
</ion-content>
